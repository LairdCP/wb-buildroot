software =
{
	version = "0.1.0";

	stable = {
		main-a: {
			images: (
				{
					filename = "kernel.itb";
					volume = "kernel_a";
					installed-directly = true;
				},
				{
					filename = "rootfs.bin";
					volume = "rootfs_a";
					installed-directly = true;
				}
			);

			bootenv: (
				{
					name = "bootside";
					value = "a";
				}
			);
		}

		main-b: {
			images: (
				{
					filename = "kernel.itb";
					volume = "kernel_b";
					installed-directly = true;
				},
				{
					filename = "rootfs.bin";
					volume = "rootfs_b";
					installed-directly = true;
				}
			);

			bootenv: (
				{
					name = "bootside";
					value = "b";
				}
			);
		}

		full-a: {
			partitions: (
				{
						name = "kernel_a";
						size = 8388608;
						device = "mtd4"
				},
				{
						name = "rootfs_a";
						size = 38928384;
						device = "mtd4"
				},
				{
						name = "rootfs_data_a";
						size = 15466496;
						device = "mtd4"
				},
				{
						name = "kernel_b";
						size = 8388608;
						device = "mtd4"
				},
				{
						name = "rootfs_b";
						size = 38928384;
						device = "mtd4"
				},
				{
						name = "rootfs_data_b";
						size = 15466496;
						device = "mtd4"
				}
			);

			images: (
				{
					filename = "boot.bin";
					device = "/dev/mtd0";
					type = "flash";
				},
				{
					filename = "u-boot.itb";
					device = "/dev/mtd1";
					type = "flash";
				},
				{
					filename = "kernel.itb";
					volume = "kernel_a";
					installed-directly = true;
				},
				{
					filename = "rootfs.bin";
					volume = "rootfs_a";
					installed-directly = true;
				}
			);

			bootenv: (
				{
					name = "bootside";
					value = "a";
				}
			);
		}

		full-b: {
			partitions: (
				{
						name = "kernel_a";
						size = 8388608;
						device = "mtd4"
				},
				{
						name = "rootfs_a";
						size = 38928384;
						device = "mtd4"
				},
				{
						name = "rootfs_data_a";
						size = 15466496;
						device = "mtd4"
				},
				{
						name = "kernel_b";
						size = 8388608;
						device = "mtd4"
				},
				{
						name = "rootfs_b";
						size = 38928384;
						device = "mtd4"
				},
				{
						name = "rootfs_data_b";
						size = 15466496;
						device = "mtd4"
				}
			);
			images: (
				{
					filename = "boot.bin";
					device = "/dev/mtd0";
					type = "flash";
				},
				{
					filename = "u-boot.itb";
					device = "/dev/mtd1";
					type = "flash";
				},
				{
					filename = "kernel.itb";
					volume = "kernel_b";
					installed-directly = true;
				},
				{
					filename = "rootfs.bin";
					volume = "rootfs_b";
					installed-directly = true;
				}
			);

			bootenv: (
				{
					name = "bootside";
					value = "b";
				}
			);
		}

		full-env-a: {
			images: (
				{
					filename = "boot.bin";
					device = "/dev/mtd0";
					type = "flash";
				},
				{
					filename = "u-boot.itb";
					device = "/dev/mtd1";
					type = "flash";
				},
				{
					filename = "uboot-env.bin";
					device = "/dev/mtd2";
					type = "flash";
				},
				{
					filename = "kernel.itb";
					volume = "kernel_a";
					installed-directly = true;
				},
				{
					filename = "rootfs.bin";
					volume = "rootfs_a";
					installed-directly = true;
				}
			);

			bootenv: (
				{
					name = "bootside";
					value = "a";
				}
			);
		}

		full-env-b: {
			images: (
				{
					filename = "boot.bin";
					device = "/dev/mtd0";
					type = "flash";
				},
				{
					filename = "u-boot.itb";
					device = "/dev/mtd1";
					type = "flash";
				},
                                {
					filename = "uboot-env.bin";
					device = "/dev/mtd2";
					type = "flash";
				},
				{
					filename = "kernel.itb";
					volume = "kernel_b";
					installed-directly = true;
				},
				{
					filename = "rootfs.bin";
					volume = "rootfs_b";
					installed-directly = true;
				}
			);

			bootenv: (
				{
					name = "bootside";
					value = "b";
				}
			);
		}
	};
}
